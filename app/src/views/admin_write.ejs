<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>관리자페이지</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>

<body>
  <h4 class="container mt-4"><strong>영상 업로드</strong></h4>
  <div class="container mt-3">
    <form action="/admin/write/add" method="POST" enctype="multipart/form-data" id="form1">
      <div class="form-group">
        <label>제목</label>
        <input type="text" class="form-control" name="title" id="title">
        <label>설명</label>
        <input type="text" class="form-control" name="description" id="desc">
      </div>
      <label for="profile"> 영상업로드 MP4
        <input type="file" id="movie" name="profile" accept="video/*">
      </label>
      <label for="profileImg"> 포스터업로드 jpg, jpeg, png
        <input type="file" id="img" name="profileImg" accept="image/*">
      </label>
      <button type="submit" class="btn btn-outline-secondary">Submit</button>
    </form>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"></script>
  <script>
    let form1 = document.querySelector('#form1');
    form1.addEventListener('submit', function (event) {
      let title = document.querySelector('#title').value;
      let desc = document.querySelector('#desc').value;
      let movie = document.querySelector('#movie').value;
      let img = document.querySelector('#img').value;
      var mp4Reg = /\w+\.mp4/;
      var imgReg = /\w+\.(jpe?g|png)/;
      if (title === "") {
        alert("제목을 작성하세요");
        event.preventDefault();
      } else if (desc === "") {
        alert("내용을 작성하세요");
        event.preventDefault();
      }
      else if (!mp4Reg.test(movie)) {
        alert("영상을 업로드 해주세요.");
        event.preventDefault();
      }
      else if (!imgReg.test(img)) {
        alert("포스터를 선택하세요");
        event.preventDefault();
      }
      else {
        alert("작성이 완료되었습니다.");
      }
    });
  </script>
</body>

</html>