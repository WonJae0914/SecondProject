<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
body {
  margin: 0;
  padding: 0;
  font-family: 'Helvetica Neue', sans-serif;
  background-color: #f2f2f2;
}

/* container 스타일 */
.container {
max-width: 500px;
margin: auto;
}
form {
padding: 20px;
background-color: #343a40;
border-radius: 10px;
box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.2);
}

/* legend 스타일 */
legend {
font-size: 24px;
font-weight: bold;
margin-bottom: 20px;
}

/* label 스타일 */
label {
font-size: 16px;
}

input {
font-size: 16px;
height: 40px;
border-radius: 5px;
border: none;
background-color: #343a40;
}

input:focus {
background-color: #ffffff;
color: #343a40;
box-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.2);
}
/* input letter */
.form-control:first-letter {
  text-transform: none;
}
/* select 스타일 */
select {
height: 40px;
border-radius: 5px;
border: none;
background-color: #343a40;
}

select:focus {
background-color: #343a40;
box-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.2);
}

/* checkbox 스타일 */
.form-check-input {
width: 20px;
height: 20px;
margin-right: 10px;
}

/* inputState 스타일 */
#inputState1 {
  background-color: #343a40;
  color: #fff;
}

#inputState1 option:checked {
  color: #343a40;
}
/* countrySelect 스타일 */
#countrySelect {
  background-color: #343a40;
  color: #fff;
}

#countrySelect option:checked {
  color: #343a40;
}

/* button 스타일 */
.btn {
font-size: 16px;
font-weight: bold;
border-radius: 5px;
}

.btn-outline-dark {
color: #343a40;
border-color: #343a40;
}

.btn-outline-dark:hover {
background-color: #343a40;
color: #ffffff;
}

.btn-outline-success {
color: #28a745;
border-color: #28a745;
}

.btn-outline-success:hover {
background-color: #28a745;
color: #ffffff;
}
/* Style for buttons */
button {
  background-color: #4CAF50;
  color: white;
  border: none;
  padding: 10px 20px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 10px;
  cursor: pointer;
  border-radius: 5px;
}

button:hover {
  background-color: #3e8e41;
}
.button-wrapper {
  display: inline-block; /* div 요소를 inline-block으로 변경 */
}

.button {
  float: left; /* 버튼에 float: left 추가 */
  margin-right: 10px; /* 버튼 간 간격을 주기 위해 오른쪽 마진 추가 */
}
    </style>    
</head>
<body>
    <%- include('nav.ejs') %>
    <div class="container mt-4">
    <form action="/userpage" method="POST">
        <fieldset>
            <legend>userpage</legend>
            <h1><%= user.id %> 님의 페이지입니다.</h1>
            <div class="form-floating mb-3">
                <label for="floatingInput">이메일 : <%= user.email%></label>
              </div>
              <div class="form-floating mb-3">
                <label for="floatingInput">나이</label>
                <input type="number" id="age" class="form-control" name="age" value="<%= user.age %>">
              </div>
              <div class="col-md-12">
                <label for="inputState" class="form-label">성별</label>
                <select id="inputState1" class="form-select" id="genderSelect" name="gender">
                  <option value="men" <%= user.gender === 'men' ? 'selected' : '' %>>남자</option>
                  <option value="women" <%= user.gender === 'women' ? 'selected' : '' %>>여자</option>
                </select>
              </div>
              <div class="col-md-12">
                <label for="inputState" class="form-label">국가</label>
                <select id="inputState2" class="form-select" id="countrySelect" name="country">
                  <option value="Korea" <%= user.country === 'Korea' ? 'selected' : '' %>>대한민국</option>
                  <option value="USA" <%= user.country === 'USA' ? 'selected' : '' %>>미국</option>
                  <option value="France" <%= user.country === 'France' ? 'selected' : '' %>>프랑스</option>
                  <option value="UK" <%= user.country === 'UK' ? 'selected' : '' %>>영국</option>
                </select>
              </div>  
              <div class="row mb-3">
                    <label class="form-check-label" for="gridCheck1">
                    <span><a href="/privacypolicy" target="_blank" style="color: red;">개인정보처리방침</a></span>에 따른 개인정보 수집 및 활용에 동의하였습니다.  
                    </label>
              </div> 
              <div class="row mb-3">
                <div class="col-sm-10">
                  <div class="form-check">
                    <input class="form-check-input" type="radio" id="gridCheck2" value="on" name="isOptedIn">
                     <label for="floatingInput"> gunchimfilx 특별 할인 알림 이메일을 받고싶어요</label><br/>
                    <input class="form-check-input" type="radio" id="gridCheck2" value="off" name="isOptedIn">
                    <label for="floatingInput">gunchimfilx 특별 할인 알림 이메일을 받고싶지 않아요 </label>
                  </div>
                </div>
              </div>
            </fieldset>
            <div class="row mt-3">
              <div class="col-sm-6">
                <button type="submit" id="updateuser" class="btn btn-primary">회원정보수정</button>
                <button type="button" id="removeuser" class="btn btn-danger" >회원탈퇴</button>
              </div>
          </div>
        </form>

        <form action="/" method="GET">
            <button type="submit" id="logout"><a href="/userpage/logout">로그아웃</button>
        </form>
    </div>
    <%- include('footer.ejs') %>
</body>
<script>
document.getElementById("removeuser").addEventListener("click", (event) => {
  const confirmed = confirm("계정을 삭제하시겠습니까?");
  if (confirmed) {
    window.location.href = "/userpage/delete?confirmed=true";
  } else {
    event.preventDefault();
  }
});
</script>
</html>